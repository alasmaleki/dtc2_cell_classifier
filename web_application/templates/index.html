{% extends "layout.html" %}
{% block content %}
<div class="container">
	<div class="row">
		<div class="col-sm max-height">
			<h1 class="h2 mb-3 font-weight-normal">Cell & Nucleus segmentation</h1>
			<p>This is an image Instance Segmentation web app with a Mask RCNN model trained on the EVICAN Dataset provided by Schwendy et al.<p>
			<p>To test it, you can use microscopic cell images can be found in the<a href='https://edmond.mpdl.mpg.de/imeji/collection/AMqy3FboLRpb0JCx/item/SUH2yACo9GYJHSkW?filter=&q=&fq=&pos=0' title='EVICAN_eval2019.zip'> EVICAN </a>dataset<p>


			<h2 class="h4 mb-3 font-weight-normal">Please upload your image</h2>

		
		<form class="form-signin" method=post enctype=multipart/form-data >
			<div class="custom-file">
				<input name="file" type="file" class="py-1 custom-file-input" id="inputfile" onchange="preview_image(event)">
				<label class=" text-left custom-file-label" for="customFile">Choose a JPG Image</label>
			</div> 
			<!-- <input type="file" name="file"
			class="form-control-file custom-file-input" id="inputfile" onchange="preview_image(event)"> -->
			<br/>
			<img id="output-image" class=" py-2 rounded mx-auto d-block" />
			<button class="btn btn-lg btn-success btn-block" type="submit" onclick="check()">Upload</button>
		</form>
	</div>
	</div>
</div>
<script type="text/javascript">
	function check(){
		var file = document.getElementById('inputfile');
		if(file.value === null || file.value === ""){
			alert("THERE'S NO FILE");
			return false;
		}
		else{
			return true;
		}
		}
	
	</script>
<script type="text/javascript">
	function preview_image(event) {
		var reader = new FileReader();
		reader.onload = function () {
			var output = document.getElementById('output-image')
			output.src = reader.result;
		}
		reader.readAsDataURL(event.target.files[0]);
	}
</script>
{% endblock %}